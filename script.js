const translations = {
  fr: {
    'brand.title': "Ecopilot",
    'brand.subtitle': "Pilotage ESG",
    'welcome.title': "Bienvenue",
    'welcome.user': "Utilisateur",
    'actions.sidebar.collapse': "Replier le menu",
    'actions.sidebar.expand': "Déployer le menu",
    'actions.theme.dark': "Mode sombre",
    'actions.theme.light': "Mode clair",
    'buttons.logout': "Déconnexion",
    'breadcrumbs.home': "Accueil",
    'user.role': "Admin",
    'user.status': "Connecté",
    'nav.modules.heading': "Parcours RSE",
    'nav.modules.popoverTitle': "Accès rapide",
    'nav.popover.hint': "Survoler pour explorer le module complet.",
    'nav.modules.saisie.label': "Saisie de données",
    'nav.modules.saisie.submodules.campaigns': "Campagnes & formulaires",
    'nav.modules.saisie.submodules.assist': "Guides contextuels",
    'nav.modules.saisie.submodules.validation': "Workflow de validation",
    'nav.modules.saisie.submodules.integrations': "Connecteurs ERP & IoT",
    'nav.modules.filters.label': "Filtres & KPI",
    'nav.modules.filters.submodules.scopes': "Périmètres & BU",
    'nav.modules.filters.submodules.time': "Périodes mois/année",
    'nav.modules.filters.submodules.references': "Référentiels GRI / CSRD",
    'nav.modules.filters.submodules.targets': "Objectifs & seuils",
    'nav.modules.indicatorsE.label': "Indicateurs E",
    'nav.modules.indicatorsE.submodules.carbon': "Empreinte carbone",
    'nav.modules.indicatorsE.submodules.energy': "Gestion énergie",
    'nav.modules.indicatorsE.submodules.water': "Gestion de l’eau",
    'nav.modules.indicatorsE.submodules.waste': "Gestion des déchets",
    'nav.modules.indicatorsS.label': "Indicateurs S",
    'nav.modules.indicatorsS.submodules.capital': "Capital humain",
    'nav.modules.indicatorsS.submodules.diversity': "Diversité & inclusion",
    'nav.modules.indicatorsS.submodules.qvt': "Qualité de vie au travail",
    'nav.modules.indicatorsS.submodules.communities': "Engagement sociétal",
    'nav.modules.indicatorsG.label': "Indicateurs G",
    'nav.modules.indicatorsG.submodules.governance': "Gouvernance & comités",
    'nav.modules.indicatorsG.submodules.ethics': "Éthique & conformité",
    'nav.modules.indicatorsG.submodules.risks': "Gestion des risques",
    'nav.modules.indicatorsG.submodules.supply': "Chaîne d’approvisionnement",
    'nav.modules.alignement.label': "Alignement RSE",
    'nav.modules.alignement.submodules.strategie': "Feuille de route",
    'nav.modules.alignement.submodules.grids': "Matrice GRI / ODD",
    'nav.modules.alignement.submodules.actionplans': "Plans d’actions",
    'nav.modules.alignement.submodules.benchmark': "Benchmarks & scoring",
    'nav.modules.rapports.label': "Rapports RSE",
    'nav.modules.rapports.submodules.performance': "Rapport de performance",
    'nav.modules.rapports.submodules.annuel': "Rapport annuel",
    'nav.modules.rapports.submodules.exports': "Exports PDF & Word",
    'nav.modules.rapports.submodules.publication': "Portail parties prenantes",
    'nav.modules.parametres.label': "Paramètres",
    'nav.modules.parametres.submodules.profil': "Profil & sécurité",
    'nav.modules.parametres.submodules.organisation': "Organisation & accès",
    'nav.modules.parametres.submodules.notifications': "Notifications",
    'nav.modules.parametres.submodules.objectifs': "Objectifs & KPI",
    'nav.modules.support.label': "Support",
    'nav.modules.support.submodules.onboarding': "Onboarding",
    'nav.modules.support.submodules.aide': "Centre d’aide",
    'nav.modules.support.submodules.experts': "Experts RSE",
    'nav.modules.support.submodules.feedback': "Feedback & idées",
    'sections.saisie.title': "Saisie de données",
    'sections.saisie.intro': "Coordonner la collecte d’informations ESG avec des processus guidés et traçables.",
    'sections.saisie.cards.agent.title': "Agents de saisie",
    'sections.saisie.cards.agent.time': "10 à 20 min / mois",
    'sections.saisie.cards.agent.items.capture': "Formulaires dynamiques selon l’activité et les sites.",
    'sections.saisie.cards.agent.items.guidance': "Aide contextuelle et documentation embarquée.",
    'sections.saisie.cards.agent.items.tracking': "Suivi de l’avancement individuel et rappels automatiques.",
    'sections.saisie.cards.superuser.title': "Superviseurs / Super users",
    'sections.saisie.cards.superuser.time': "5 à 10 min / mois",
    'sections.saisie.cards.superuser.items.review': "Contrôle qualité et validation multi-niveaux.",
    'sections.saisie.cards.superuser.items.corrections': "Gestion des retours et corrections guidées.",
    'sections.saisie.cards.superuser.items.audit': "Traçabilité et journal d’audit centralisé.",
    'sections.saisie.cards.integration.title': "Intégration des données",
    'sections.saisie.cards.integration.time': "Temps réel",
    'sections.saisie.cards.integration.items.interfaces': "Connecteurs ERP, IoT et dépôts documentaires.",
    'sections.saisie.cards.integration.items.sync': "Synchronisation automatique des indicateurs clés.",
    'sections.saisie.cards.integration.items.archives': "Historique versionné et archivage sécurisé.",
    'sections.saisie.callout': "Les workflows s’adaptent aux rôles (Agent, Super User, Admin) pour garantir la fiabilité des données.",
    'sections.filters.title': "Filtres & KPI",
    'sections.filters.intro': "Naviguer dans les indicateurs grâce à des filtres multi-dimensionnels et des vues personnalisables.",
    'sections.filters.cards.structure.title': "Structure & périmètres",
    'sections.filters.cards.structure.items.scopes': "Filtrage par BU, entité, site ou zone géographique.",
    'sections.filters.cards.structure.items.roles': "Segments utilisateurs avec droits dédiés.",
    'sections.filters.cards.structure.items.responsibles': "Vue par responsables, contributeurs et référents.",
    'sections.filters.cards.temporal.title': "Temporalité",
    'sections.filters.cards.temporal.items.period': "Comparaison Mois/Année et période glissante.",
    'sections.filters.cards.temporal.items.frequency': "Pilotage temps réel, trimestriel ou annuel.",
    'sections.filters.cards.temporal.items.trends': "Analyse des tendances et alertes anticipées.",
    'sections.filters.cards.references.title': "Référentiels & objectifs",
    'sections.filters.cards.references.items.frameworks': "Alignement GRI, CSRD, ODD et taxonomies internes.",
    'sections.filters.cards.references.items.aggregation': "Aggrégation automatique N, N-1 et cible.",
    'sections.filters.cards.references.items.thresholds': "Gestion des seuils, objectifs et plans de rattrapage.",
    'sections.filters.callout': "Les filtres mémorisent les préférences par profil pour accélérer les revues hebdomadaires.",
    'sections.indicatorsE.title': "Indicateurs Environnement",
    'sections.indicatorsE.intro': "Suivre la performance environnementale avec des tableaux de bord dédiés.",
    'sections.indicatorsE.cards.carbon.title': "Empreinte carbone",
    'sections.indicatorsE.cards.carbon.items.inventory': "Inventaire scopes 1, 2, 3 avec facteurs certifiés.",
    'sections.indicatorsE.cards.carbon.items.scenarios': "Scénarios de réduction et trajectoires SBTi.",
    'sections.indicatorsE.cards.carbon.items.offsets': "Pilotage des projets de compensation et crédits carbone.",
    'sections.indicatorsE.cards.energy.title': "Gestion de l’énergie",
    'sections.indicatorsE.cards.energy.items.monitoring': "Monitoring des consommations et intensités énergétiques.",
    'sections.indicatorsE.cards.energy.items.projects': "Suivi des projets d’efficacité et gains associés.",
    'sections.indicatorsE.cards.energy.items.alerts': "Alertes sur dérives et dépassements budgétaires.",
    'sections.indicatorsE.cards.water.title': "Gestion de l’eau",
    'sections.indicatorsE.cards.water.items.stewardship': "Suivi des prélèvements et rejets par site.",
    'sections.indicatorsE.cards.water.items.networks': "Cartographie des réseaux et indicateurs de stress hydrique.",
    'sections.indicatorsE.cards.water.items.anomalies': "Détection des fuites et anomalies de consommation.",
    'sections.indicatorsE.cards.waste.title': "Gestion des déchets",
    'sections.indicatorsE.cards.waste.items.sorting': "Taux de tri, recyclage et valorisation.",
    'sections.indicatorsE.cards.waste.items.circularity': "Suivi des filières et partenariats circulaires.",
    'sections.indicatorsE.cards.waste.items.compliance': "Conformité réglementaire et bordereaux de suivi.",
    'sections.indicatorsE.note': "Les tableaux de bord environnement s’intègrent aux plans d’actions et à la trajectoire climat.",
    'sections.indicatorsS.title': "Indicateurs Social",
    'sections.indicatorsS.intro': "Mesurer l’impact humain avec des indicateurs de capital social.",
    'sections.indicatorsS.cards.capital.title': "Capital humain",
    'sections.indicatorsS.cards.capital.items.skills': "Compétences clés, formation et mobilité interne.",
    'sections.indicatorsS.cards.capital.items.headcount': "Suivi des effectifs et de l’attrition.",
    'sections.indicatorsS.cards.capital.items.engagement': "Baromètres d’engagement et eNPS.",
    'sections.indicatorsS.cards.diversity.title': "Diversité & inclusion",
    'sections.indicatorsS.cards.diversity.items.equality': "Égalité F/H, parité, inclusion des talents.",
    'sections.indicatorsS.cards.diversity.items.paygap': "Suivi des écarts de rémunération et plans correctifs.",
    'sections.indicatorsS.cards.diversity.items.local': "Initiatives locales et indicateurs extra-financiers.",
    'sections.indicatorsS.cards.qvt.title': "Qualité de vie au travail",
    'sections.indicatorsS.cards.qvt.items.health': "Santé, sécurité et absentéisme.",
    'sections.indicatorsS.cards.qvt.items.flex': "Organisation du travail et flexibilité.",
    'sections.indicatorsS.cards.qvt.items.feedback': "Feedback collaborateurs et idées d’amélioration.",
    'sections.indicatorsS.cards.communities.title': "Communautés & impact",
    'sections.indicatorsS.cards.communities.items.sponsorship': "Mécénat, bénévolat et partenariats associatifs.",
    'sections.indicatorsS.cards.communities.items.local': "Indicateurs territoriaux et retombées socio-éco.",
    'sections.indicatorsS.cards.communities.items.reporting': "Reporting ESG intégré et communication interne.",
    'sections.indicatorsS.note': "Les indicateurs sociaux se consolident par BU et permettent le dialogue social continu.",
    'sections.indicatorsG.title': "Indicateurs Gouvernance",
    'sections.indicatorsG.intro': "Piloter la gouvernance, la conformité et la maîtrise des risques.",
    'sections.indicatorsG.cards.governance.title': "Gouvernance & comités",
    'sections.indicatorsG.cards.governance.items.structure': "Composition des organes de gouvernance et fréquence.",
    'sections.indicatorsG.cards.governance.items.decisions': "Suivi des décisions clés et plans de suivi.",
    'sections.indicatorsG.cards.governance.items.performance': "Évaluation des comités et auto-évaluations.",
    'sections.indicatorsG.cards.ethics.title': "Éthique & conformité",
    'sections.indicatorsG.cards.ethics.items.policies': "Politiques, code de conduite et attestations.",
    'sections.indicatorsG.cards.ethics.items.alerts': "Gestion des alertes et dispositifs de signalement.",
    'sections.indicatorsG.cards.ethics.items.training': "Sensibilisation, formations et taux de complétion.",
    'sections.indicatorsG.cards.risks.title': "Gestion des risques",
    'sections.indicatorsG.cards.risks.items.map': "Cartographie des risques ESG et appétence.",
    'sections.indicatorsG.cards.risks.items.controls': "Plan de contrôle interne et remédiations.",
    'sections.indicatorsG.cards.risks.items.incidents': "Suivi des incidents et actions correctives.",
    'sections.indicatorsG.cards.supply.title': "Chaîne d’approvisionnement",
    'sections.indicatorsG.cards.supply.items.audit': "Évaluations fournisseurs et audits tiers.",
    'sections.indicatorsG.cards.supply.items.score': "Scorecards ESG et contrats responsables.",
    'sections.indicatorsG.cards.supply.items.traceability': "Traçabilité et conformité réglementaire.",
    'sections.indicatorsG.note': "Les indicateurs de gouvernance alimentent les rapports CSRD, DPEF et les comités exécutifs.",
    'sections.alignement.title': "Alignement RSE",
    'sections.alignement.intro': "Assurer la cohérence entre stratégie, référentiels et plans d’actions.",
    'sections.alignement.cards.mapping.title': "Matrice de matérialité",
    'sections.alignement.cards.mapping.items.double': "Double matérialité croisant enjeux impact et financier.",
    'sections.alignement.cards.mapping.items.priority': "Priorisation par enjeux critiques et parties prenantes.",
    'sections.alignement.cards.mapping.items.review': "Revues annuelles et scénarios prospectifs.",
    'sections.alignement.cards.roadmap.title': "Feuilles de route",
    'sections.alignement.cards.roadmap.items.pillars': "Structuration par piliers E, S, G & objectifs.",
    'sections.alignement.cards.roadmap.items.actions': "Initiatives, budgets et ROI attendus.",
    'sections.alignement.cards.roadmap.items.dependencies': "Dépendances, jalons et indicateurs de suivi.",
    'sections.alignement.cards.benchmark.title': "Benchmarks & scoring",
    'sections.alignement.cards.benchmark.items.peers': "Comparaison sectorielle et meilleures pratiques.",
    'sections.alignement.cards.benchmark.items.ratings': "Suivi des notations extra-financières.",
    'sections.alignement.cards.benchmark.items.simulation': "Simulation d’impact sur les scores ESG.",
    'sections.alignement.cards.communication.title': "Narratif & diffusion",
    'sections.alignement.cards.communication.items.story': "Storytelling RSE aligné avec la stratégie.",
    'sections.alignement.cards.communication.items.assets': "Kits graphiques et messages clés par public.",
    'sections.alignement.cards.communication.items.channels': "Coordination des canaux internes et externes.",
    'sections.alignement.callout': "L’alignement RSE synchronise automatiquement KPIs, plans d’actions et narration corporate.",
    'sections.rapports.title': "Rapports RSE",
    'sections.rapports.intro': "Industrialiser la production des rapports de performance et extra-financiers.",
    'sections.rapports.cards.performance.title': "Rapport de performance",
    'sections.rapports.cards.performance.items.filters': "Filtres adaptatifs (PDF / Word) personnalisables.",
    'sections.rapports.cards.performance.items.template': "Modèles comparatifs N, N-1 et objectifs.",
    'sections.rapports.cards.performance.items.export': "Exports automatiques et diffusion sécurisée.",
    'sections.rapports.cards.annual.title': "Rapport annuel RSE",
    'sections.rapports.cards.annual.items.framework': "Conformité GRI, CSRD, ODD selon le référentiel choisi.",
    'sections.rapports.cards.annual.items.period': "Choix de la période Mois/Année à couvrir.",
    'sections.rapports.cards.annual.items.models': "Génération IA de sections narratives et tableaux.",
    'sections.rapports.callout': "Les rapports partagent une base de données unique garantissant cohérence et traçabilité.",
    'sections.parametres.title': "Paramètres & administration",
    'sections.parametres.intro': "Configurer l’organisation, les accès et les objectifs ESG.",
    'sections.parametres.cards.profile.title': "Profil & organisation",
    'sections.parametres.cards.profile.items.identity': "Données de l’entreprise, entités et sites.",
    'sections.parametres.cards.profile.items.users': "Gestion des utilisateurs, rôles et délégations.",
    'sections.parametres.cards.profile.items.privacy': "Paramètres de sécurité, SSO et conformité.",
    'sections.parametres.cards.objectives.title': "Objectifs & notifications",
    'sections.parametres.cards.objectives.items.targets': "Définition des objectifs et plans d’actions associés.",
    'sections.parametres.cards.objectives.items.notifications': "Notifications multi-canaux et rappels.",
    'sections.parametres.cards.objectives.items.subscription': "Gestion des abonnements et modules activés.",
    'sections.parametres.callout': "Les paramètres peuvent être dupliqués entre environnements de test et de production.",
    'sections.support.title': "Support & accompagnement",
    'sections.support.intro': "Accompagner les équipes dans l’adoption de la plateforme.",
    'sections.support.cards.onboarding.title': "Onboarding & formation",
    'sections.support.cards.onboarding.items.tour': "Parcours interactifs et guides vidéo.",
    'sections.support.cards.onboarding.items.resources': "Ressources téléchargeables et FAQ thématiques.",
    'sections.support.cards.onboarding.items.sessions': "Sessions live pour partager les bonnes pratiques.",
    'sections.support.cards.assistance.title': "Assistance continue",
    'sections.support.cards.assistance.items.helpdesk': "Support multilingue avec SLA définis.",
    'sections.support.cards.assistance.items.knowledge': "Base de connaissance enrichie en continu.",
    'sections.support.cards.assistance.items.community': "Communauté d’utilisateurs et retours d’expérience.",
    'sections.support.callout': "Un Customer Success dédié suit les indicateurs d’adoption et les idées d’évolution."
  },
  en: {
    'brand.title': "Ecopilot",
    'brand.subtitle': "ESG cockpit",
    'welcome.title': "Welcome",
    'welcome.user': "User",
    'actions.sidebar.collapse': "Collapse menu",
    'actions.sidebar.expand': "Expand menu",
    'actions.theme.dark': "Dark mode",
    'actions.theme.light': "Light mode",
    'buttons.logout': "Log out",
    'breadcrumbs.home': "Home",
    'user.role': "Admin",
    'user.status': "Online",
    'nav.modules.heading': "ESG journey",
    'nav.modules.popoverTitle': "Quick access",
    'nav.popover.hint': "Hover to explore the full module.",
    'nav.modules.saisie.label': "Data entry",
    'nav.modules.saisie.submodules.campaigns': "Campaigns & forms",
    'nav.modules.saisie.submodules.assist': "Contextual guidance",
    'nav.modules.saisie.submodules.validation': "Validation workflow",
    'nav.modules.saisie.submodules.integrations': "ERP & IoT connectors",
    'nav.modules.filters.label': "Filters & KPIs",
    'nav.modules.filters.submodules.scopes': "Scopes & business units",
    'nav.modules.filters.submodules.time': "Month / year periods",
    'nav.modules.filters.submodules.references': "GRI / CSRD references",
    'nav.modules.filters.submodules.targets': "Targets & thresholds",
    'nav.modules.indicatorsE.label': "E indicators",
    'nav.modules.indicatorsE.submodules.carbon': "Carbon footprint",
    'nav.modules.indicatorsE.submodules.energy': "Energy management",
    'nav.modules.indicatorsE.submodules.water': "Water stewardship",
    'nav.modules.indicatorsE.submodules.waste': "Waste management",
    'nav.modules.indicatorsS.label': "S indicators",
    'nav.modules.indicatorsS.submodules.capital': "Human capital",
    'nav.modules.indicatorsS.submodules.diversity': "Diversity & inclusion",
    'nav.modules.indicatorsS.submodules.qvt': "Quality of work life",
    'nav.modules.indicatorsS.submodules.communities': "Community impact",
    'nav.modules.indicatorsG.label': "G indicators",
    'nav.modules.indicatorsG.submodules.governance': "Governance & boards",
    'nav.modules.indicatorsG.submodules.ethics': "Ethics & compliance",
    'nav.modules.indicatorsG.submodules.risks': "Risk management",
    'nav.modules.indicatorsG.submodules.supply': "Supply chain",
    'nav.modules.alignement.label': "ESG alignment",
    'nav.modules.alignement.submodules.strategie': "Roadmap",
    'nav.modules.alignement.submodules.grids': "GRI / SDG matrix",
    'nav.modules.alignement.submodules.actionplans': "Action plans",
    'nav.modules.alignement.submodules.benchmark': "Benchmarks & scoring",
    'nav.modules.rapports.label': "ESG reports",
    'nav.modules.rapports.submodules.performance': "Performance report",
    'nav.modules.rapports.submodules.annuel': "Annual report",
    'nav.modules.rapports.submodules.exports': "PDF & Word exports",
    'nav.modules.rapports.submodules.publication': "Stakeholder portal",
    'nav.modules.parametres.label': "Settings",
    'nav.modules.parametres.submodules.profil': "Profile & security",
    'nav.modules.parametres.submodules.organisation': "Organisation & access",
    'nav.modules.parametres.submodules.notifications': "Notifications",
    'nav.modules.parametres.submodules.objectifs': "Objectives & KPIs",
    'nav.modules.support.label': "Support",
    'nav.modules.support.submodules.onboarding': "Onboarding",
    'nav.modules.support.submodules.aide': "Help centre",
    'nav.modules.support.submodules.experts': "ESG experts",
    'nav.modules.support.submodules.feedback': "Feedback & ideas",
    'sections.saisie.title': "Data entry",
    'sections.saisie.intro': "Coordinate ESG data collection with guided and auditable workflows.",
    'sections.saisie.cards.agent.title': "Contributors",
    'sections.saisie.cards.agent.time': "10 to 20 min / month",
    'sections.saisie.cards.agent.items.capture': "Dynamic forms tailored to each activity and site.",
    'sections.saisie.cards.agent.items.guidance': "Embedded contextual help and documentation.",
    'sections.saisie.cards.agent.items.tracking': "Individual progress tracking and automated reminders.",
    'sections.saisie.cards.superuser.title': "Supervisors",
    'sections.saisie.cards.superuser.time': "5 to 10 min / month",
    'sections.saisie.cards.superuser.items.review': "Quality control and multi-level approvals.",
    'sections.saisie.cards.superuser.items.corrections': "Guided feedback loops and corrections.",
    'sections.saisie.cards.superuser.items.audit': "Full audit trail and change log.",
    'sections.saisie.cards.integration.title': "Data integration",
    'sections.saisie.cards.integration.time': "Real time",
    'sections.saisie.cards.integration.items.interfaces': "ERP, IoT and document connectors.",
    'sections.saisie.cards.integration.items.sync': "Automatic synchronisation of key indicators.",
    'sections.saisie.cards.integration.items.archives': "Version history and secured archives.",
    'sections.saisie.callout': "Workflows adapt to each role (Agent, Super User, Admin) to ensure reliable data.",
    'sections.filters.title': "Filters & KPIs",
    'sections.filters.intro': "Explore indicators with multi-dimensional filters and personalised views.",
    'sections.filters.cards.structure.title': "Structure & scopes",
    'sections.filters.cards.structure.items.scopes': "Filter by BU, entity, site or geography.",
    'sections.filters.cards.structure.items.roles': "User segments with dedicated permissions.",
    'sections.filters.cards.structure.items.responsibles': "Views by owners, contributors and sponsors.",
    'sections.filters.cards.temporal.title': "Time dimension",
    'sections.filters.cards.temporal.items.period': "Compare month/year and rolling periods.",
    'sections.filters.cards.temporal.items.frequency': "Operate in real-time, quarterly or yearly mode.",
    'sections.filters.cards.temporal.items.trends': "Trend analysis and early warnings.",
    'sections.filters.cards.references.title': "Frameworks & targets",
    'sections.filters.cards.references.items.frameworks': "Alignment with GRI, CSRD, SDGs and internal taxonomies.",
    'sections.filters.cards.references.items.aggregation': "Automatic aggregation for current, previous and target.",
    'sections.filters.cards.references.items.thresholds': "Manage thresholds, targets and catch-up plans.",
    'sections.filters.callout': "Filters remember user preferences to speed up recurring reviews.",
    'sections.indicatorsE.title': "Environmental indicators",
    'sections.indicatorsE.intro': "Monitor environmental performance with dedicated dashboards.",
    'sections.indicatorsE.cards.carbon.title': "Carbon footprint",
    'sections.indicatorsE.cards.carbon.items.inventory': "Scopes 1, 2, 3 inventory with certified factors.",
    'sections.indicatorsE.cards.carbon.items.scenarios': "Reduction scenarios and SBTi trajectories.",
    'sections.indicatorsE.cards.carbon.items.offsets': "Track offsetting projects and carbon credits.",
    'sections.indicatorsE.cards.energy.title': "Energy management",
    'sections.indicatorsE.cards.energy.items.monitoring': "Consumption and intensity monitoring by site.",
    'sections.indicatorsE.cards.energy.items.projects': "Follow efficiency projects and captured savings.",
    'sections.indicatorsE.cards.energy.items.alerts': "Alerts on drifts and budget overruns.",
    'sections.indicatorsE.cards.water.title': "Water stewardship",
    'sections.indicatorsE.cards.water.items.stewardship': "Track withdrawals and discharges per site.",
    'sections.indicatorsE.cards.water.items.networks': "Map networks and water stress indicators.",
    'sections.indicatorsE.cards.water.items.anomalies': "Detect leaks and abnormal consumption.",
    'sections.indicatorsE.cards.waste.title': "Waste management",
    'sections.indicatorsE.cards.waste.items.sorting': "Sorting, recycling and recovery rates.",
    'sections.indicatorsE.cards.waste.items.circularity': "Follow circular economy partnerships.",
    'sections.indicatorsE.cards.waste.items.compliance': "Regulatory compliance and waste tracking forms.",
    'sections.indicatorsE.note': "Environmental dashboards feed the climate roadmap and action plans.",
    'sections.indicatorsS.title': "Social indicators",
    'sections.indicatorsS.intro': "Measure human impact through people and community metrics.",
    'sections.indicatorsS.cards.capital.title': "Human capital",
    'sections.indicatorsS.cards.capital.items.skills': "Key skills, training and internal mobility.",
    'sections.indicatorsS.cards.capital.items.headcount': "Headcount, turnover and retention.",
    'sections.indicatorsS.cards.capital.items.engagement': "Engagement surveys and eNPS.",
    'sections.indicatorsS.cards.diversity.title': "Diversity & inclusion",
    'sections.indicatorsS.cards.diversity.items.equality': "Gender equality, parity and inclusion.",
    'sections.indicatorsS.cards.diversity.items.paygap': "Pay gap monitoring and corrective plans.",
    'sections.indicatorsS.cards.diversity.items.local': "Local initiatives and extra-financial indicators.",
    'sections.indicatorsS.cards.qvt.title': "Quality of work life",
    'sections.indicatorsS.cards.qvt.items.health': "Health, safety and absenteeism.",
    'sections.indicatorsS.cards.qvt.items.flex': "Work organisation and flexibility.",
    'sections.indicatorsS.cards.qvt.items.feedback': "Employee feedback and improvement ideas.",
    'sections.indicatorsS.cards.communities.title': "Communities & impact",
    'sections.indicatorsS.cards.communities.items.sponsorship': "Sponsorship, volunteering and partnerships.",
    'sections.indicatorsS.cards.communities.items.local': "Local impact indicators and socio-economic outcomes.",
    'sections.indicatorsS.cards.communities.items.reporting': "Integrated ESG reporting and internal comms.",
    'sections.indicatorsS.note': "Social indicators consolidate by BU and support continuous dialogue.",
    'sections.indicatorsG.title': "Governance indicators",
    'sections.indicatorsG.intro': "Steer governance, compliance and risk management.",
    'sections.indicatorsG.cards.governance.title': "Governance & boards",
    'sections.indicatorsG.cards.governance.items.structure': "Board composition and meeting cadence.",
    'sections.indicatorsG.cards.governance.items.decisions': "Track key decisions and follow-up plans.",
    'sections.indicatorsG.cards.governance.items.performance': "Board assessments and self-evaluations.",
    'sections.indicatorsG.cards.ethics.title': "Ethics & compliance",
    'sections.indicatorsG.cards.ethics.items.policies': "Policies, code of conduct and attestations.",
    'sections.indicatorsG.cards.ethics.items.alerts': "Whistleblowing alerts and investigations.",
    'sections.indicatorsG.cards.ethics.items.training': "Awareness, training and completion rates.",
    'sections.indicatorsG.cards.risks.title': "Risk management",
    'sections.indicatorsG.cards.risks.items.map': "ESG risk mapping and appetite.",
    'sections.indicatorsG.cards.risks.items.controls': "Internal control plans and remediation.",
    'sections.indicatorsG.cards.risks.items.incidents': "Incident tracking and corrective actions.",
    'sections.indicatorsG.cards.supply.title': "Supply chain",
    'sections.indicatorsG.cards.supply.items.audit': "Supplier assessments and third-party audits.",
    'sections.indicatorsG.cards.supply.items.score': "ESG scorecards and responsible contracts.",
    'sections.indicatorsG.cards.supply.items.traceability': "Traceability and regulatory compliance.",
    'sections.indicatorsG.note': "Governance indicators feed CSRD/NFRD reports and executive committees.",
    'sections.alignement.title': "ESG alignment",
    'sections.alignement.intro': "Keep strategy, frameworks and action plans aligned.",
    'sections.alignement.cards.mapping.title': "Materiality matrix",
    'sections.alignement.cards.mapping.items.double': "Double materiality combining impact and financial views.",
    'sections.alignement.cards.mapping.items.priority': "Prioritisation by critical issues and stakeholders.",
    'sections.alignement.cards.mapping.items.review': "Annual reviews and forward-looking scenarios.",
    'sections.alignement.cards.roadmap.title': "Roadmaps",
    'sections.alignement.cards.roadmap.items.pillars': "Structure by ESG pillars and objectives.",
    'sections.alignement.cards.roadmap.items.actions': "Initiatives, budgets and expected ROI.",
    'sections.alignement.cards.roadmap.items.dependencies': "Dependencies, milestones and tracking metrics.",
    'sections.alignement.cards.benchmark.title': "Benchmarks & scoring",
    'sections.alignement.cards.benchmark.items.peers': "Sector comparison and best practices.",
    'sections.alignement.cards.benchmark.items.ratings': "Follow ESG ratings and questionnaires.",
    'sections.alignement.cards.benchmark.items.simulation': "Simulate the impact on ESG scores.",
    'sections.alignement.cards.communication.title': "Narrative & rollout",
    'sections.alignement.cards.communication.items.story': "ESG storytelling aligned with corporate strategy.",
    'sections.alignement.cards.communication.items.assets': "Communication kits and key messages per audience.",
    'sections.alignement.cards.communication.items.channels': "Coordinate internal and external channels.",
    'sections.alignement.callout': "Alignment keeps KPIs, action plans and corporate narrative synchronised.",
    'sections.rapports.title': "ESG reports",
    'sections.rapports.intro': "Industrialise performance and extra-financial reporting.",
    'sections.rapports.cards.performance.title': "Performance report",
    'sections.rapports.cards.performance.items.filters': "Adaptive filters (PDF / Word) ready to customise.",
    'sections.rapports.cards.performance.items.template': "Comparative templates for current vs target.",
    'sections.rapports.cards.performance.items.export': "Automated exports and secure distribution.",
    'sections.rapports.cards.annual.title': "Annual ESG report",
    'sections.rapports.cards.annual.items.framework': "Compliance with GRI, CSRD, SDGs or chosen framework.",
    'sections.rapports.cards.annual.items.period': "Select the month/year period to cover.",
    'sections.rapports.cards.annual.items.models': "AI-generated narratives and tables.",
    'sections.rapports.callout': "Reports rely on a single source of truth ensuring consistency and auditability.",
    'sections.parametres.title': "Settings & administration",
    'sections.parametres.intro': "Configure the organisation, access and ESG goals.",
    'sections.parametres.cards.profile.title': "Profile & organisation",
    'sections.parametres.cards.profile.items.identity': "Company master data, entities and sites.",
    'sections.parametres.cards.profile.items.users': "User, role and delegation management.",
    'sections.parametres.cards.profile.items.privacy': "Security settings, SSO and compliance.",
    'sections.parametres.cards.objectives.title': "Objectives & notifications",
    'sections.parametres.cards.objectives.items.targets': "Define targets and related action plans.",
    'sections.parametres.cards.objectives.items.notifications': "Multi-channel alerts and reminders.",
    'sections.parametres.cards.objectives.items.subscription': "Manage subscriptions and active modules.",
    'sections.parametres.callout': "Settings can be cloned across test and production environments.",
    'sections.support.title': "Support & enablement",
    'sections.support.intro': "Help teams adopt the platform smoothly.",
    'sections.support.cards.onboarding.title': "Onboarding & training",
    'sections.support.cards.onboarding.items.tour': "Interactive walkthroughs and video guides.",
    'sections.support.cards.onboarding.items.resources': "Downloadable resources and themed FAQs.",
    'sections.support.cards.onboarding.items.sessions': "Live sessions to share best practices.",
    'sections.support.cards.assistance.title': "Ongoing assistance",
    'sections.support.cards.assistance.items.helpdesk': "Multilingual helpdesk with defined SLAs.",
    'sections.support.cards.assistance.items.knowledge': "Continuously enriched knowledge base.",
    'sections.support.cards.assistance.items.community': "User community and feedback loops.",
    'sections.support.callout': "A dedicated customer success manager tracks adoption KPIs and improvement ideas."
  }
};

document.addEventListener('DOMContentLoaded', () => {
  const root = document.documentElement;
  const app = document.querySelector('.app');
  const navButtons = Array.from(document.querySelectorAll('.nav-item'));
  const sections = Array.from(document.querySelectorAll('.view'));
  const crumbCurrent = document.querySelector('[data-role="current-section"]');
  const languageButtons = Array.from(document.querySelectorAll('.language-switch__btn'));
  const themeToggle = document.querySelector('[data-action="toggle-theme"]');
  const sidebarToggle = document.querySelector('[data-action="collapse-sidebar"]');

  const storageKeys = {
    language: 'ecopilot:language',
    theme: 'ecopilot:theme',
    sidebar: 'ecopilot:sidebar'
  };

  const storage = {
    get(key) {
      try {
        return window.localStorage.getItem(key);
      } catch (error) {
        return null;
      }
    },
    set(key, value) {
      try {
        window.localStorage.setItem(key, value);
      } catch (error) {
        // ignore storage errors
      }
    }
  };

  let activeLanguage = 'fr';

  const getDictionary = (lang) => translations[lang] ?? translations.fr;

  const translateKey = (key) => {
    const dictionary = getDictionary(activeLanguage);
    return dictionary[key] ?? key;
  };

  const updateBreadcrumb = () => {
    if (!crumbCurrent) return;
    const activeSection = sections.find((section) => section.classList.contains('is-active'));
    if (!activeSection) return;
    const title = activeSection.querySelector('[data-role="section-title"]');
    if (!title) return;
    crumbCurrent.textContent = title.textContent.trim();
  };

  const applyTranslations = () => {
    const dictionary = getDictionary(activeLanguage);
    document.querySelectorAll('[data-i18n]').forEach((element) => {
      const key = element.dataset.i18n;
      if (!key) return;
      const value = dictionary[key];
      if (value === undefined) return;
      element.innerHTML = value;
    });
  };

  const setTheme = (theme) => {
    const resolved = theme === 'dark' ? 'dark' : 'light';
    document.body.setAttribute('data-theme', resolved);
    if (themeToggle) {
      themeToggle.setAttribute('aria-pressed', String(resolved === 'dark'));
      const icon = themeToggle.querySelector('.theme-switch__icon');
      if (icon) {
        icon.textContent = resolved === 'dark' ? '☀️' : '🌙';
      }
      const label = themeToggle.querySelector('.theme-switch__label');
      if (label) {
        const key = resolved === 'dark' ? 'actions.theme.light' : 'actions.theme.dark';
        label.innerHTML = translateKey(key);
      }
    }
    storage.set(storageKeys.theme, resolved);
  };

  const toggleTheme = () => {
    const current = document.body.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
    const next = current === 'dark' ? 'light' : 'dark';
    setTheme(next);
  };

  const setSidebarState = (collapsed) => {
    if (!app) return;
    app.classList.toggle('is-sidebar-collapsed', collapsed);
    if (sidebarToggle) {
      sidebarToggle.setAttribute('aria-expanded', String(!collapsed));
      const label = sidebarToggle.querySelector('.sidebar__collapse-label');
      if (label) {
        const key = collapsed ? 'actions.sidebar.expand' : 'actions.sidebar.collapse';
        label.innerHTML = translateKey(key);
      }
    }
    storage.set(storageKeys.sidebar, collapsed ? 'collapsed' : 'expanded');
  };

  const activateSection = (targetId) => {
    const target = sections.find((section) => section.id === targetId);
    if (!target) return;
    sections.forEach((section) => {
      section.classList.toggle('is-active', section === target);
    });
    navButtons.forEach((button) => {
      const isActive = button.dataset.target === targetId;
      button.classList.toggle('is-active', isActive);
      button.setAttribute('aria-pressed', String(isActive));
    });
    updateBreadcrumb();
  };

  const applyLanguage = (lang) => {
    activeLanguage = translations[lang] ? lang : 'fr';
    root.setAttribute('lang', activeLanguage);
    applyTranslations();
    languageButtons.forEach((button) => {
      const isActive = button.dataset.lang === activeLanguage;
      button.classList.toggle('is-active', isActive);
      button.setAttribute('aria-pressed', String(isActive));
    });
    setTheme(document.body.getAttribute('data-theme'));
    setSidebarState(app?.classList.contains('is-sidebar-collapsed'));
    storage.set(storageKeys.language, activeLanguage);
    updateBreadcrumb();
  };

  navButtons.forEach((button) => {
    button.addEventListener('click', () => {
      const targetId = button.dataset.target;
      if (!targetId) return;
      activateSection(targetId);
    });
    button.addEventListener('keydown', (event) => {
      if (event.key === 'Enter' || event.key === ' ') {
        event.preventDefault();
        button.click();
      }
    });
  });

  languageButtons.forEach((button) => {
    button.addEventListener('click', () => {
      const lang = button.dataset.lang;
      applyLanguage(lang);
    });
  });

  if (themeToggle) {
    themeToggle.addEventListener('click', () => {
      toggleTheme();
    });
  }

  if (sidebarToggle) {
    sidebarToggle.addEventListener('click', () => {
      const isCollapsed = app?.classList.contains('is-sidebar-collapsed');
      setSidebarState(!isCollapsed);
    });
  }

  const storedLanguage = storage.get(storageKeys.language);
  const storedTheme = storage.get(storageKeys.theme);
  const storedSidebar = storage.get(storageKeys.sidebar);

  if (storedSidebar === 'collapsed') {
    setSidebarState(true);
  } else {
    setSidebarState(false);
  }

  applyLanguage(storedLanguage ?? activeLanguage);
  setTheme(storedTheme ?? document.body.getAttribute('data-theme'));

  const defaultSection = sections.find((section) => section.classList.contains('is-active'));
  activateSection(defaultSection?.id ?? 'saisie');
});
